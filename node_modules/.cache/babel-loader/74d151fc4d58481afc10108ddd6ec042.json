{"ast":null,"code":"import _objectSpread from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import axios from\"axios\";var LoginTemplate=/*#__PURE__*/function(_React$Component){_inherits(LoginTemplate,_React$Component);function LoginTemplate(props){var _this;_classCallCheck(this,LoginTemplate);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginTemplate).call(this,props));_this.state={username:'',email:'',password:''};_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangeEmail=_this.onChangeEmail.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginTemplate,[{key:\"onChangeUsername\",value:function onChangeUsername(event){this.setState({username:event.target.value});}},{key:\"onChangeEmail\",value:function onChangeEmail(event){this.setState({email:event.target.value});}},{key:\"onChangePassword\",value:function onChangePassword(event){this.setState({password:event.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();console.log('sex');var newUser={username:this.state.username,email:this.state.email,password:this.state.password};if(this.props.mode==\"register\"){if(this.props.user==\"user\"){axios.post('https://bulkbackend.herokuapp.com/adduser',newUser).then(function(res){if(res.data.success==false){document.getElementById(\"AfterSubmit\").innerHTML=\"email already exist\";}else{document.getElementById(\"AfterSubmit\").innerHTML=\"REGISTERED\";}}).catch(function(error){console.log(error);});}else{axios.post('https://bulkbackend.herokuapp.com/addvendor',newUser).then(function(res){if(res.data.success==false){document.getElementById(\"AfterSubmit\").innerHTML=\"email already exist\";}else{document.getElementById(\"AfterSubmit\").innerHTML=\"REGISTERED\";}}).catch(function(error){console.log(error);});}}else{if(this.props.user==\"user\"){axios.post('https://bulkbackend.herokuapp.com/checkuser',newUser).then(function(res){if(res.data.success==true){var lol=_objectSpread({},res.data._doc,{type:'user'});localStorage.clear();localStorage.setItem('mydata',JSON.stringify(lol));window.location.assign('/dashboard');}else{document.getElementById(\"AfterSubmit\").innerHTML=\"LOGIN FAILED\";}});}else{axios.post('https://bulkbackend.herokuapp.com/checkvendor',newUser).then(function(res){if(res.data.success==true){var lol=_objectSpread({},res.data._doc,{type:'vendor'});localStorage.clear();localStorage.setItem('mydata',JSON.stringify(lol));window.location.assign('/dashboard');}else{console.log(res);document.getElementById(\"AfterSubmit\").innerHTML=\"LOGIN FAILED\";}});}}this.setState({username:'',email:'',password:''});}},{key:\"render\",value:function render(){var hide=\"\";if(this.props.mode==\"login\")hide=\"none\";return React.createElement(\"div\",null,React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"div\",{style:{display:hide},className:\"form-group\"},React.createElement(\"label\",null,\"Username: \"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.username,onChange:this.onChangeUsername})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Email: \"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.email,onChange:this.onChangeEmail,required:true})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Password: \"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.password,onChange:this.onChangePassword,required:true})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"submit\",value:\"Create User\",className:\"btn btn-primary\"})),React.createElement(\"div\",{id:\"AfterSubmit\"})));}}]);return LoginTemplate;}(React.Component);export{LoginTemplate as default};","map":{"version":3,"sources":["F:/bulkorder-master/bulkorder-master/frontend/src/components/login.js"],"names":["React","axios","LoginTemplate","props","state","username","email","password","onChangeUsername","bind","onChangeEmail","onSubmit","onChangePassword","event","setState","target","value","e","preventDefault","console","log","newUser","mode","user","post","then","res","data","success","document","getElementById","innerHTML","catch","error","lol","_doc","type","localStorage","clear","setItem","JSON","stringify","window","location","assign","hide","display","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport axios from \"axios\"\n\nexport default class  LoginTemplate extends React.Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\n\t\t this.state = {\n            username: '',\n            email: '',\n            password:''\n      \n        }\n   \t\tthis.onChangeUsername = this.onChangeUsername.bind(this);\n        this.onChangeEmail = this.onChangeEmail.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onChangePassword=this.onChangePassword.bind(this);\n\n\t}\n\n    onChangeUsername(event) {\n        this.setState({ username: event.target.value });\n    }\n\n    onChangeEmail(event) {\n        this.setState({ email: event.target.value });\n    }\n    onChangePassword(event) {\n        this.setState({ password: event.target.value });\n    }\n\tonSubmit(e) {\n        e.preventDefault();\n        console.log('sex')\n        const newUser = {\n            username: this.state.username,\n            email: this.state.email,\n           \tpassword: this.state.password\n        }\n        if(this.props.mode==\"register\")\n\t        if (this.props.user==\"user\")\n\t        {\n\t\t        axios.post('https://bulkbackend.herokuapp.com/adduser', newUser)\n\t\t             .then(res => {\n                  if(res.data.success==false)\n                  {\n                      document.getElementById(\"AfterSubmit\").innerHTML = \"email already exist\" ;\n\n                  }\n                  else{\n                      document.getElementById(\"AfterSubmit\").innerHTML = \"REGISTERED\";\n                  }\n                 })\n                 .catch(function(error) {\n                 console.log(error);\n             })\n\n\t\t    }\n\t\t    else\n\t\t    {\n\t   \t\t\taxios.post('https://bulkbackend.herokuapp.com/addvendor', newUser)\n\t\t             .then(res => {\n                  if(res.data.success==false)\n                  {\n                      document.getElementById(\"AfterSubmit\").innerHTML = \"email already exist\";\n\n                  }\n                  else{\n                      document.getElementById(\"AfterSubmit\").innerHTML = \"REGISTERED\";\n                  }\n                 })\n                 .catch(function(error) {\n                 console.log(error);\n             })\n\n\t\t    }    \n\t\t  else{\n\t\t\tif (this.props.user==\"user\")\n\t        {\n\t\t        axios.post('https://bulkbackend.herokuapp.com/checkuser', newUser)\n\t\t             .then(res => {\n                   if(res.data.success==true)\n                   {\n                      let lol=  {...res.data._doc,type:'user'}\n                      localStorage.clear()\n                      localStorage.setItem('mydata',JSON.stringify(lol))\n                      window.location.assign('/dashboard')\n                   }\n                   else{\n                      document.getElementById(\"AfterSubmit\").innerHTML = \"LOGIN FAILED\";\n                   }\n                 })\n                 \n\t\t    }\n\t\t    else\n\t\t    {\n\t   \t\t\taxios.post('https://bulkbackend.herokuapp.com/checkvendor', newUser)\n\t\t             .then(res => \n                 {\n                   if(res.data.success==true)\n                   {\n                      let lol=  {...res.data._doc,type:'vendor'}\n                      localStorage.clear()\n                      localStorage.setItem('mydata',JSON.stringify(lol))\n                      window.location.assign('/dashboard')\n                   }\n                   else{\n                    console.log(res)\n                      document.getElementById(\"AfterSubmit\").innerHTML = \"LOGIN FAILED\";\n                   }\n                 });\n\t\t    }    \n\t\t}\n        this.setState({\n            username: '',\n            email: '',\n            password: ''\n        });\n    }\n\trender(){\n\t\tvar hide=\"\"\n\t\tif(this.props.mode==\"login\")hide=\"none\"\n\n \t\treturn(\n  \t\t\t<div>\n             <form onSubmit={this.onSubmit}>\n                    <div style={{display:hide}} className=\"form-group\">        \n                        <label>Username: </label>\n                        <input type=\"text\" \n                               className=\"form-control\" \n                               value={this.state.username}\n                               onChange={this.onChangeUsername}\n                               />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Email: </label>\n                        <input type=\"text\" \n                               className=\"form-control\" \n                               value={this.state.email}\n                               onChange={this.onChangeEmail}\n                               required\n\n                               />  \n                    </div>\n                    <div className=\"form-group\">\n                        <label>Password: </label>\n                        <input type=\"text\" \n                               className=\"form-control\" \n                               value={this.state.password}\n                               onChange={this.onChangePassword}\n                               required\n\n                               />  \n                    </div>\n                    \n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Create User\" className=\"btn btn-primary\"/>\n                    </div>\n                    <div id =\"AfterSubmit\">\n\n                    </div>\n                </form>\n            </div>\n\t\t);\n\t}\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}