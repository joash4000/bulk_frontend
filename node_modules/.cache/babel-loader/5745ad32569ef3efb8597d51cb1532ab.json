{"ast":null,"code":"import _classCallCheck from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\bulkorder-master\\\\bulkorder-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import US from'./sunit';var Search=/*#__PURE__*/function(_React$Component){_inherits(Search,_React$Component);function Search(props){var _this;_classCallCheck(this,Search);_this=_possibleConstructorReturn(this,_getPrototypeOf(Search).call(this,props));_this.state={t:0,search:\"\"};_this.displayRadioValue=_this.displayRadioValue.bind(_assertThisInitialized(_this));_this.onChangeSearch=_this.onChangeSearch.bind(_assertThisInitialized(_this));return _this;}_createClass(Search,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('https://bulkbackend.herokuapp.com/getlist').then(function(response){var x=_this2.state.t;var y=_this2.state.search;var fol={x:x,y:y};var lol=response.data;lol=lol.concat(fol);_this2.setState(lol);}).catch(function(error){console.log(error);});}},{key:\"displayRadioValue\",value:function displayRadioValue(){var ele=document.getElementsByName('sort');for(var i=0;i<ele.length;i++){if(ele[i].checked){this.setState({t:ele[i].value});}}console.log(this.state.t);}},{key:\"onChangeSearch\",value:function onChangeSearch(event){this.setState({search:event.target.value});}},{key:\"render\",value:function render(){var uid=this.props.id;var uname=this.props.name;var lol=this.state;var lis=[];// var t=this.state.sort;\n// remove element from searhch\nif(this.state.t==0){// left\nfor(var i in lol){if(this.state.search==\"\"||this.state.search==lol[i].listname){var f=0;if(lol[i].amount!=lol[i].buyed){if(lol[i].state==0){for(var j in lol[i].buyers){if(lol[i].buyers[j].bid==uid){f=1;}}if(f==0){var s=lol[i].amount-lol[i].buyed;var l=[s,lol[i]];lis.push(l);}}}}}}if(this.state.t==1){//price\nfor(var i in lol){if(this.state.search==\"\"||this.state.search==lol[i].listname){if(lol[i].amount!=lol[i].buyed){// console.log(lol[i])\nvar f=0;if(lol[i].state==0){for(var j in lol[i].buyers){if(lol[i].buyers[j].bid==uid){f=1;}}if(f==0){// console.log(lol[i])\nvar s=lol[i].price/lol[i].amount;var l=[s,lol[i]];lis.push(l);}}}}}}if(this.state.t==2){//rating\nif(lol[i].amount!=lol[i].buyed){for(var i in lol){var f=0;if(lol[i].state==0){for(var j in lol[i].buyers){if(lol[i].buyers[j].bid==uid){f=1;}}if(f==0){var l=[s,lol[i]];lis.push(l);}}}}}lis=lis.sort(function(a,b){return a[0]-b[0];});var li=[];for(var i=0;i<lis.length;i++){li.push(lis[i][1]);}// console.log(li)\nvar List=li.map(function(item){return React.createElement(US,{itm:item,uid:uid,uname:uname});});return React.createElement(\"div\",null,React.createElement(\"input\",{type:\"radio\",id:\"male\",name:\"sort\",value:\"0\"}),React.createElement(\"label\",{for:\"male\"},\"least left\"),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"radio\",id:\"female\",name:\"sort\",value:\"1\"}),React.createElement(\"label\",{for:\"female\"},\"Least price\"),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"radio\",id:\"other\",name:\"sort\",value:\"1\"}),React.createElement(\"label\",{for:\"other\"},\"rating\"),React.createElement(\"button\",{type:\"button\",onClick:this.displayRadioValue},\"Sort\"),React.createElement(\"label\",null,\"Search: \"),React.createElement(\"input\",{type:\"text\",value:this.state.search,onChange:this.onChangeSearch}),List,React.createElement(\"div\",{style:{height:\"400px\",width:\"100%\",clear:\"both\"}}));}}]);return Search;}(React.Component);export{Search as default};","map":{"version":3,"sources":["F:/bulkorder-master/bulkorder-master/frontend/src/components/search.js"],"names":["React","axios","US","Search","props","state","t","search","displayRadioValue","bind","onChangeSearch","get","then","response","x","y","fol","lol","data","concat","setState","catch","error","console","log","ele","document","getElementsByName","i","length","checked","value","event","target","uid","id","uname","name","lis","listname","f","amount","buyed","j","buyers","bid","s","l","push","price","sort","a","b","li","List","map","item","height","width","clear","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport US from './sunit'\n\nexport default class Search extends React.Component{\n\tconstructor(props){\n\t\tsuper(props)\n    this.state={\n      t:0,\n      search:\"\"\n    }\n    this.displayRadioValue=this.displayRadioValue.bind(this);\n    this.onChangeSearch=this.onChangeSearch.bind(this);\n\n   }\n\n  componentDidMount() {\n        axios.get('https://bulkbackend.herokuapp.com/getlist')\n             .then(response => {\n                  var x=this.state.t\n                  var y=this.state.search\n                  var fol={ x,y}\n                  var lol=response.data\n                  lol=lol.concat(fol)\n\n                 this.setState(lol);\n             })\n             .catch(function(error) {\n                 console.log(error);\n             })\n\n  }\n  displayRadioValue(){\n    var ele = document.getElementsByName('sort'); \n              \n            for(var i = 0; i < ele.length; i++) { \n                if(ele[i].checked)\n                {\n                  this.setState({t:ele[i].value})\n                } \n            }\n           console.log(this.state.t) \n  }\n  onChangeSearch(event){\n        this.setState({ search: event.target.value });\n\n  }\n\n\n\trender(){\n    var uid=this.props.id\n    var uname=this.props.name\n    var lol=this.state\n    var lis=[]\n    // var t=this.state.sort;\n    // remove element from searhch\n   \n\n    if(this.state.t==0){         // left\n      for (var i in lol){\n        if(this.state.search==\"\"||this.state.search==lol[i].listname){\n            var f=0\n            if(lol[i].amount!=lol[i].buyed){\n             \n            if(lol[i].state==0){\n              for (var j in lol[i].buyers){\n                if(lol[i].buyers[j].bid==uid){\n                  f=1\n                }\n              }\n              if(f==0){\n              var s=lol[i].amount - lol[i].buyed\n              var l=[s,lol[i]]\n              lis.push(l)\n            }\n            }\n            \n          }\n        }\n    }\n    }\n    if(this.state.t==1){  //price\n      for (var i in lol){\n        if(this.state.search==\"\"||this.state.search==lol[i].listname){\n\n        if(lol[i].amount!=lol[i].buyed)\n        {\n        // console.log(lol[i])\n        var f =0\n        if(lol[i].state==0){\n        \n          for (var j in lol[i].buyers){\n            if(lol[i].buyers[j].bid==uid){\n              f=1\n            }\n          }\n          if(f==0){\n            // console.log(lol[i])\n            var s=lol[i].price/lol[i].amount\n           var l=[s,lol[i]]\n            lis.push(l)\n          }\n\n        }\n      }\n    }\n    }\n    }\n    if(this.state.t==2){  //rating\n      if(lol[i].amount!=lol[i].buyed)\n        {\n      for (var i in lol){\n        var f=0\n        if(lol[i].state==0){\n        for (var j in lol[i].buyers){\n            if(lol[i].buyers[j].bid==uid){\n              f=1\n            }\n          }\n          if(f==0){\n          var l=[s,lol[i]]\n          lis.push(l)\n        }\n         } \n      }\n    }\n    }\n\n    lis = lis.sort(function(a,b) {\n    return a[0] - b[0];\n});\n  var li=[]\n  for (var i=0;i<lis.length;i++){\n    li.push(lis[i][1])\n  }\n    // console.log(li)\n        const List = li.map(item => <US itm={item} uid={uid} uname={uname}/>)   \n\n\t\treturn(\n\n      <div>\n    \n   <input type=\"radio\" id=\"male\" name=\"sort\" value=\"0\"/>\n  <label for=\"male\">least left</label><br/>\n  <input type=\"radio\" id=\"female\" name=\"sort\" value=\"1\"/>\n  <label for=\"female\">Least price</label><br/>\n  <input type=\"radio\" id=\"other\" name=\"sort\" value=\"1\"/>\n  <label for=\"other\">rating</label>\n      <button type=\"button\" onClick={this.displayRadioValue}> \n        Sort\n    </button> \n   <label>Search: </label>\n  <input type=\"text\" \n         value={this.state.search}\n         onChange={this.onChangeSearch}\n         /> \n           \n      {List}\n\n       <div style={{height:\"400px\", width:\"100%\", clear:\"both\"}}>\n     </div>\n      </div>\n\n\n\t\t\n\n    )\n\n\t}\n}"]},"metadata":{},"sourceType":"module"}